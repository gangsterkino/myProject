<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    @charset "UTF-8";

        #progress-page {
  display: none;
  background-color: rgba(0, 0, 0, 0.7);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
}

.progress-bar{
    width: 0%;
    height: inherit;
    border-radius:  25px;
    background-image: url("cool-background.svg");
         
}
#progress-page h2 {
  color: white;
  margin-top: 30%;
  text-align: center;
}

.progress {
  margin: 0 auto;
  width: 75%;
  height: 12px;
  background-color:rgba(255, 255, 255, 0.84);
  border-radius:14px;
  color: black;
}
body{
    background-image: url("cool-background.svg");
    background-repeat: no-repeat;
    text-align: center;
    background-size: cover;
    background-attachment: fixed;
}

h1{
      margin: 0;
      font-size: 40px;
      font-weight: bold;
      letter-spacing: 2px; 
      color: white;
    text-shadow: 2px 2px 2px darkblue;

}
.contain{
    border-radius: 3px;
    width: 800px;
    background-color: rgba(255,255,255,.61);
    height: 500px;
    margin-left: 235px;
    box-shadow: 2px 2px 15px rgba(25, 0, 0, .8);
    display: flow;

}
.file-upload { 
   display: none; 
}



 button {
  margin: 20px;
 background-color: transparent;
  cursor: pointer;
  min-width: 130px;
  height: 40px;
  color: #fff;
  padding: 5px 10px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  display: inline-block;
  outline: none;
  border-radius: 8px;
  z-index: 0;
  background: #fff;
  overflow: hidden;
  border: 2px solid #2c0b8e;
  color: #2c0b8e;
}
 button:hover {
  color: #fff;
}
 button:hover:after {
  width: 100%;
}
 button:after {
  content: "";
  position: absolute;
  z-index: -1;
  transition: all 0.3s ease;
  right: 0;
  top: 0;
  width: 0;
  height: 100%;
  background: #2c0b8e;
}

input-group{
    margin-top: 100px;
}
img{
  box-shadow:1px  1px 10px #eee;
  border-radius: 7px;
    margin-top: 30px;
   width: 560px;
    height: 370px
}
 /* Center the progress bar on the progress screen */
      #progress-page .progress {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80%;
      }

</style>
  	<title>Open file</title>
</head>
<body>

    <h1>Skin Lesion Classification</h1>

    
      <form id="upload-form">
        <div class="image-upload">
          <label for="file-input">
            <img src="back.jpg" alt="submit your photo" id="image-preview"  />
            <p>点击图片进行上传</p>
          </label>
          <input type="file" id="file-input" accept="image/*" style="display: none" />
        </div>
        <br />
        <button type="button" id="clear-button">Clear</button>
        <button type="button" id="submit-button">
          <a style="text-decoration: none; color: black;">Submit</a>
        </button>
      </form>


    <div id="progress-page">
      <h2>Processing Your Image</h2>
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
    </div>

   <script>
    // Select the necessary HTML elements
    const fileInput = document.getElementById('file-input');
    const clearButton = document.getElementById('clear-button');
    const submitButton = document.getElementById('submit-button');
    const imagePreview = document.getElementById('image-preview');
    const progressPage = document.getElementById('progress-page');
    const progressBar = document.querySelector('.progress-bar');

    // When the user selects a file, display a preview of the image
    fileInput.addEventListener('change', function () {
        const file = fileInput.files[0];

        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = function () {
            imagePreview.src = reader.result;
        };
    });

    // When the user clicks the "Clear" button, reset the file input and image preview
    clearButton.addEventListener('click', function () {
        fileInput.value = '';
        imagePreview.src = 'back.jpg';
    });

    // When the user clicks the "Submit" button, simulate the upload progress
    submitButton.addEventListener('click', function () {
        // Display the progress bar
        progressPage.style.display = 'block';

        // Simulate the upload progress
        let progress = 0;
        const intervalId = setInterval(function () {
            progress += 10;
            progressBar.style.width = progress + '%';
            progressBar.setAttribute('aria-valuenow', progress);
            if (progress >= 100) {
                clearInterval(intervalId);
                window.location.href = 'diognise.html'; 
            }
        }, 500);
    });
</script>
  </body>
</html>
