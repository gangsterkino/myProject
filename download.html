<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>数据下载</title>
    <link rel="stylesheet" href="download.css">


</head>
<body>
    <nav class="nav1">
    
    <h1>Example Website</h1>
    <ul>
      <li><a href="analyse.html">More</a></li>
      <li><a href="index.html">Home</a></li>

      <li><a href="#">About</a></li>
    </ul>
  </nav>


<div class="box">

 <button id="select">选择图片</button>
<div id="select-options" style="display:none;">
  <button id="select-all">全选</button>
  <button id="free-select">自由选择</button>
</div>
<button id="download" style="display:none;">下载图片</button>

<!-- 病症图片目录 -->
  <div class="disease">
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000065_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000052_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000030_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000031_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000013.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000065_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000052_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000030_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000031_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000013.jpgISIC_0000013.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick"  src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000007.jpg" alt="黑素瘤">
    </div> <div class="disease-item">
      <img  class="sick" asrc="ISIC_0000065_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" asrc="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000052_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000030_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000031_downsampled.jpg" alt="黑素瘤">
    </div>
   
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
  
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000031_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000013.jpgISIC_0000013.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000060_downsampled.jpg" alt="黑素瘤">
    </div>
     <div class="disease-item">
      <img  class="sick" src="ISIC_0000062_downsampled.jpg" alt="黑素瘤">
    </div>
    <div class="disease-item">
      <img  class="sick" src="ISIC_0000063_downsampled.jpg" alt="黑素瘤">
    </div>
  
    <!-- 添加更多图片可以在这里继续添加 -->
  </div>
  <!-- 页码栏 -->
  <div class="pagination">
    <button class="prev-page" onclick="prevPage()">&laquo; 上一页</button>
    <button class="next-page" onclick="nextPage()">下一页 &raquo;</button>
  </div>

  <script>
    // 获取所有疾病项目
    const diseaseItems = document.querySelectorAll(".disease-item");
    // 每页显示的项目数量
    const itemsPerPage = 8;
    // 当前页码
    let currentPage = 1;
    // 总页码数
    const totalPages = Math.ceil(diseaseItems.length / itemsPerPage);

    // 隐藏所有项目
    function hideItems() {
      diseaseItems.forEach((item) => {
        item.style.display = "none";
      });
    }

    // 显示指定页码的项目
    function showItems(page) {
      // 隐藏所有项目
      hideItems();
      // 计算起始和结束索引
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      // 显示指定索引范围内的项目
      for (let i = startIndex; i < endIndex && i < diseaseItems.length; i++) {
        diseaseItems[i].style.display = "flex";
      }
    }

    // 显示初始页码
    showItems(currentPage);

    // 切换到上一页
    function prevPage() {
      if (currentPage > 1) {
        currentPage--;
        showItems(currentPage);
      }
    }

    // 切换到下一页
    function nextPage() {
      if (currentPage < totalPages) {
        currentPage++;
        showItems(currentPage);
      }
    }
  </script>
<script>
  const images = document.querySelectorAll(".sick");
const selectButton = document.getElementById("select");
const selectAllButton = document.getElementById("select-all");
const freeSelectButton = document.getElementById("free-select");
const downloadButton = document.getElementById("download");

let selectedImages = [];

selectButton.addEventListener("click", () => {
  document.getElementById("select-options").style.display = "block";
});

selectAllButton.addEventListener("click", () => {
  selectedImages = Array.from(images);
  updateImageSelection();
  showDownloadButton();
});

freeSelectButton.addEventListener("click", () => {
  selectedImages = [];
  images.forEach((image) => {
    image.addEventListener("click", toggleImageSelection);
  });
  showDownloadButton();
});

downloadButton.addEventListener("click", () => {
  selectedImages.forEach((image) => {
    image.classList.remove("selected");
  });
  selectedImages = [];
  hideDownloadButton();
  alert("Download Successful");
});

function toggleImageSelection(event) {
  const image = event.target;
  if (selectedImages.includes(image)) {
    selectedImages = selectedImages.filter((selectedImage) => selectedImage !== image);
  } else {
    selectedImages.push(image);
  }
  updateImageSelection();
  if (selectedImages.length > 0) {
    showDownloadButton();
  } else {
    hideDownloadButton();
  }
}

function updateImageSelection() {
  images.forEach((image) => {
    if (selectedImages.includes(image)) {
      image.classList.add("selected");
    } else {
      image.classList.remove("selected");
    }
  });
}

function showDownloadButton() {
  downloadButton.style.display = "block";
}

function hideDownloadButton() {
  downloadButton.style.display = "none";
}

</script>
</body>
</html>